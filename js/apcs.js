!function(o){var d={array:Array.isArray,def:function(o){return null!=o},undef:function(o){return null==o},obj:function(o){return null!=o&&"object"==typeof o&&!Array.isArray(o)},str:function(o){return null!=o&&("string"==typeof o||o instanceof String)},num:function(o){return!isNaN(parseFloat(o))&&isFinite(o)},bool:function(o){return o===!0||o===!1},func:function(o){return null!=o&&"function"==typeof o}},e={_:{}};e._.listener={},e._.key={},e._.mouse={x:0,y:0},e._.keyMap={TAB:9,CAPSLOCK:20,SHIFT:16,ENTER:13,ESCAPE:27,CONTROL:17,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:8,BACKSPACE:8,ALT:18,COMMAND:91,LEFTCOMMAND:91,RIGHTCOMMAND:93,MENU:93},e._.width=500,e._.height=500,e.width=function(){return e._.width},e.height=function(){return e._.height},e.listen=function(o){o!==!0||e._.listening?o===!1&&(e._.listening=!1,document.removeEventListener("keyup",e._.listener.keyup,!1),document.removeEventListener("keydown",e._.listener.keydown,!1)):(e._.listening=!0,e._.listener.keydown=function(o){e._.key[o.which]=!0},e._.listener.keyup=function(o){e._.key[o.which]=!1},document.addEventListener("keyup",e._.listener.keyup,!1),document.addEventListener("keydown",e._.listener.keydown,!1),document.onmousemove=function(o){e._.mouse.x=o.clientX,e._.mouse.y=o.clientY},window.onresize=function(){e._.screen&&e.size(document.body.clientWidth,document.body.clientHeight)})},e.key={pressed:function(o){return o=(""+o).toUpperCase().replace(/[^A-Z0-9]/,""),0==o.length?!1:e._.key[e._.keyMap[o]?e._.keyMap[o]:o.charCodeAt(0)]===!0},released:function(o){return!e.key.pressed(o)}},e.mouse={getX:function(){return e._.mouse.x},getY:function(){return e._.mouse.y}},e.screen=function(){e._.sized=!0,document.body.clientWidth>0&&document.body.clientHeight>0?(e.size(document.body.clientWidth,document.body.clientHeight),e._.screen=!0):e.size(500,500)},e.size=function(o,r){e._.sized=!0,e._.screen=!1,e._.canvas||(document.body.setAttribute("style","margin:0px"),e._.canvas=document.createElement("canvas"),document.body.appendChild(e._.canvas),e._.context=e._.canvas.getContext("2d"),e.listen(!0)),e._.width=d.num(o)?o:500,e._.height=d.num(r)?r:500,e._.canvas.setAttribute("width",""+e._.width),e._.canvas.setAttribute("height",""+e._.height)},e.exit=function(){e._.canvas&&document.body.removeChild(e._.canvas),e._.exit=!0,e.listen(!1)},e.out={},e.out.background=function(o,d,r,l){e._.sized||e.screen(),e._.context.clearRect(0,0,e._.width,e._.height)},e._.color="black",e._.colorMap={},e.out.color=function(o,r,l,a){d.str(o)?e._.color=e._.colorMap[o]?e._.colorMap[o]:o:d.num(o)&&d.num(r)&&d.num(l)&&(e._.color="rgba("+o+","+r+","+l+","+(d.def(a)?a:1)+")")},e.addColor=function(o,r,l,a,n){d.str(o)&&d.num(r)&&d.num(l)&&d.num(a)&&(e._.colorMap[o]="rgba("+r+","+l+","+a+","+(d.def(n)?n:1)+")")},e.out.square=function(o,r,l,a){e._.sized||e.screen(),d.str(a)&&e.out.color(a),e._.context.fillStyle=e._.color,e._.context.fillRect(o-l/2,r-l/2,l,l)},e.out.rectangle=function(o,r,l,a,n){e._.sized||e.screen(),d.str(n)&&e.out.color(n),e._.context.fillStyle=e._.color,e._.context.fillRect(o-l/2,r-a/2,l,a)},e.out.circle=function(o,d,r,l){e._.sized||e.screen(),e._.context.beginPath(),e._.context.arc(o,d,r,0,2*Math.PI,!0),e._.context.fillStyle=l||e._.color,e._.context.fill()},e.rollDice=function(o){return Math.floor(Math.random()*o+1)},e.frame=function(o){if(d.func(o))e._.frame||(e._.frame=[]),e._.frame.push(o),e._.running||(e._.running=!0,e.frame());else{for(var r=0;r<e._.frame.length&&!e._.exit;r++)e._.frame[r]();e._.exit||window.requestAnimationFrame(e.frame)}},e.addColor("alice blue",240,248,255),e.addColor("antique white",250,235,215),e.addColor("aqua",0,255,255),e.addColor("aquamarine",127,255,212),e.addColor("azure",240,255,255),e.addColor("beige",245,245,220),e.addColor("bisque",255,228,196),e.addColor("black",0,0,0),e.addColor("blanched almond",255,235,205),e.addColor("blue",0,0,255),e.addColor("blue violet",138,43,226),e.addColor("brown",165,42,42),e.addColor("burlywood",222,184,135),e.addColor("cadet blue",95,158,160),e.addColor("chartreuse",127,255,0),e.addColor("chocolate",210,105,30),e.addColor("coral",255,127,80),e.addColor("cornflower blue",100,149,237),e.addColor("cornsilk",255,248,220),e.addColor("cyan",0,255,255),e.addColor("dark blue",0,0,139),e.addColor("dark cyan",0,139,139),e.addColor("dark goldenrod",184,134,11),e.addColor("dark gray",169,169,169),e.addColor("dark green",0,100,0),e.addColor("dark khaki",189,183,107),e.addColor("dark magenta",139,0,139),e.addColor("dark olive green",85,107,47),e.addColor("dark orange",255,140,0),e.addColor("dark orchid",153,50,204),e.addColor("dark red",139,0,0),e.addColor("dark salmon",233,150,122),e.addColor("dark sea green",143,188,143),e.addColor("dark slate blue",72,61,139),e.addColor("dark slate gray",47,79,79),e.addColor("dark turquoise",0,206,209),e.addColor("dark violet",148,0,211),e.addColor("deep pink",255,20,147),e.addColor("deep sky blue",0,191,255),e.addColor("dim gray",105,105,105),e.addColor("dodger blue",30,144,255),e.addColor("firebrick",178,34,34),e.addColor("floral white",255,250,240),e.addColor("forest green",34,139,34),e.addColor("fuschia",255,0,255),e.addColor("gainsboro",220,220,220),e.addColor("ghost white",255,250,250),e.addColor("gold",255,215,0),e.addColor("goldenrod",218,165,32),e.addColor("gray",128,128,128),e.addColor("grey",128,128,128),e.addColor("green",0,128,0),e.addColor("green yellow",173,255,47),e.addColor("honeydew",240,255,240),e.addColor("hot pink",255,105,180),e.addColor("indian red",205,92,92),e.addColor("indigo",111,0,255),e.addColor("ivory",255,255,240),e.addColor("khaki",240,230,140),e.addColor("lavender",230,230,250),e.addColor("lavender blush",255,240,245),e.addColor("lawn green",124,252,0),e.addColor("lemon chiffon",255,250,205),e.addColor("light blue",173,216,230),e.addColor("light coral",240,128,128),e.addColor("light cyan",224,255,255),e.addColor("light goldenrod",238,221,130),e.addColor("light goldenrod yellow",250,250,210),e.addColor("light gray",211,211,211),e.addColor("light green",144,238,144),e.addColor("light pink",255,182,193),e.addColor("light salmon",255,160,122),e.addColor("light sea green",32,178,170),e.addColor("light sky blue",135,206,250),e.addColor("light slate blue",132,112,255),e.addColor("light slate gray",119,136,153),e.addColor("light steel blue",176,196,222),e.addColor("light yellow",255,255,224),e.addColor("lime",0,255,0),e.addColor("lime green",50,205,50),e.addColor("linen",250,240,230),e.addColor("magenta",255,0,255),e.addColor("maroon",128,0,0),e.addColor("medium aquamarine",102,205,170),e.addColor("medium blue",0,0,205),e.addColor("medium orchid",186,85,211),e.addColor("medium purple",147,112,219),e.addColor("medium sea green",60,179,113),e.addColor("medium slate blue",123,104,238),e.addColor("medium spring green",0,250,154),e.addColor("medium turquoise",72,209,204),e.addColor("medium violet red",199,21,133),e.addColor("midnight blue",25,25,112),e.addColor("mint cream",245,255,250),e.addColor("misty rose",255,228,225),e.addColor("moccasin",255,228,181),e.addColor("navajo white",255,222,173),e.addColor("navy",0,0,128),e.addColor("old lace",253,245,230),e.addColor("olive",128,128,0),e.addColor("olive drab",107,142,35),e.addColor("orange",255,165,0),e.addColor("orange red",255,69,0),e.addColor("orchid",218,112,214),e.addColor("pale goldenrod",238,232,170),e.addColor("pale green",152,251,152),e.addColor("pale turquoise",175,238,238),e.addColor("pale violet red",219,112,147),e.addColor("papaya whip",255,239,213),e.addColor("peach puff",255,218,185),e.addColor("peru",205,133,63),e.addColor("pink",255,192,203),e.addColor("plum",221,160,221),e.addColor("powder blue",176,224,230),e.addColor("purple",128,0,128),e.addColor("red",255,0,0),e.addColor("rosy brown",188,143,143),e.addColor("royal blue",65,105,225),e.addColor("saddle brown",139,69,19),e.addColor("salmon",250,128,114),e.addColor("sandy brown",244,164,96),e.addColor("sea green",46,139,87),e.addColor("seashell",255,245,238),e.addColor("sienna",160,82,45),e.addColor("silver",192,192,192),e.addColor("sky blue",135,206,235),e.addColor("slate blue",106,90,205),e.addColor("slate gray",112,128,144),e.addColor("snow",255,250,250),e.addColor("spring green",0,255,127),e.addColor("steel blue",70,130,180),e.addColor("tan",210,180,140),e.addColor("teal",0,128,128),e.addColor("thistle",216,191,216),e.addColor("tomato",255,99,71),e.addColor("turquoise",64,224,208),e.addColor("violet",238,130,238),e.addColor("violet red",208,32,144),e.addColor("wheat",245,222,179),e.addColor("white",255,255,255),e.addColor("white smoke",245,245,245),e.addColor("yellow",255,255,0),e.addColor("yellow green",154,205,50),window[o]=e}("Window");